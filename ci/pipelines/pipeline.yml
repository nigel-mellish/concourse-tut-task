---
resource_types:
- name: test-container
  type: docker-image
  source:
    repository: python
    tag: 2-alpine3.8 

resources:
- name: source-code
  type: git
  check_every: 3m
  source:
    uri: https://github.com/nigel-mellish/concourse-tut-task
    branch: master
    paths: 
      - "src/*"

jobs:
- name: run-unit-tests
  public: true
  plan:
  - get: source-code
    trigger: true
  - task: run-tests
    config:
      platform: linux
      image_resource:
        type: docker-image
        source: 
          repository: python
          tag: latest
      inputs: 
      - name: source-code
      run:
        path: source-code/ci/scripts/foo.sh
